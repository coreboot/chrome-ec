# Copyright 2024 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

CONFIG_TEST=y
CONFIG_I2C=y
CONFIG_I2C_TARGET=y
CONFIG_EMUL=y
CONFIG_GPIO=y
CONFIG_NANOPB=y

# Features required for test
CONFIG_CROS_EC=y
CONFIG_PLATFORM_EC=y
CONFIG_PLATFORM_EC_CBI=y
CONFIG_SHIMMED_TASKS=y
CONFIG_FLASH=y
CONFIG_PLATFORM_EC_HOSTCMD=y
CONFIG_PLATFORM_EC_HOSTCMD_CONSOLE=y
CONFIG_INPUT=y
CONFIG_PLATFORM_EC_FLASH_SIZE_BYTES=0x40000

CONFIG_EVENTS=y
CONFIG_PLATFORM_EC_DSP_CLIENT=y
CONFIG_PLATFORM_EC_DSP_SERVICE=y

# Language
CONFIG_CPP=y
CONFIG_STD_CPP20=y
CONFIG_REQUIRES_FULL_LIBCPP=y

# Enable asserts
CONFIG_PIGWEED_ASSERT=y

# Enable logging (needed to capture gTest output)
CONFIG_LOG=y
CONFIG_PIGWEED_LOG_ZEPHYR=y
CONFIG_PIGWEED_SYS_IO=y

CONFIG_DSP_COMMS_LOG_LEVEL_DBG=y

CONFIG_PLATFORM_EC_TABLET_MODE=y
CONFIG_PLATFORM_EC_LID_SWITCH=y
CONFIG_PLATFORM_EC_HOOKS=y
